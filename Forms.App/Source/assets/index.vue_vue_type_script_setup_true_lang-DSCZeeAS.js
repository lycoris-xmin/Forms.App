import{d as y,D as _,E as k,r as x,i as C,c as n,o as r,w as u,b as d,H as h,P as v,g as w,t as m}from"./index-C4fDvJn1.js";import{S as g,g as B}from"./table-search-filter-oeJAv4cw.js";import{n as L,f as O,k as M}from"./enums-Cr_YM2zq.js";const F=y({__name:"index",props:_({platform:{default:0},allowClear:{type:Boolean,default:!0},placeholder:{default:"- 全部 -"},showSearch:{type:Boolean,default:!1},options:{default:()=>[]},filterOption:{type:Function,default:()=>{}},remote:{type:Boolean,default:!1}},{value:{default:"",required:!0},valueModifiers:{}}),emits:["update:value"],setup(c){const s=k(c,"value"),i=x([]),e=c,p=async o=>{if(!e.showSearch)return;let a,l;e.platform===0?{data:a,error:l}=await L(o):e.platform===1?{data:a,error:l}=await O(o):e.platform===2&&({data:a,error:l}=await M(o)),!l&&a&&a.code===0&&(i.value=a.data.list)};C(()=>{e.remote&&p("")});function S(o,a){return e.options.filter(l=>l.text.toLocaleLowerCase().includes(o.toLocaleLowerCase())).filter(l=>l.value===a.value).length>0}return(o,a)=>{const l=B,f=g;return e.remote?(r(),n(f,{key:1,value:s.value,"onUpdate:value":a[1]||(a[1]=t=>s.value=t),placeholder:e.placeholder,"show-search":e.showSearch,"allow-clear":e.allowClear,"filter-option":!e.remote,onSearch:p},{default:u(()=>[(r(!0),d(h,null,v(i.value,t=>(r(),n(l,{key:t.value,value:t.value},{default:u(()=>[w(m(t.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder","show-search","allow-clear","filter-option"])):(r(),n(f,{key:0,value:s.value,"onUpdate:value":a[0]||(a[0]=t=>s.value=t),placeholder:e.placeholder,"show-search":e.showSearch,"allow-clear":e.allowClear,"filter-option":e.filterOption||S},{default:u(()=>[(r(!0),d(h,null,v(e.options,t=>(r(),n(l,{key:t.value,value:t.value},{default:u(()=>[w(m(t.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder","show-search","allow-clear","filter-option"]))}}});export{F as _};
