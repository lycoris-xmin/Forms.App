import{d as D,aB as w,q as M,s as V,a as m,i as k,j as L,b as _,o as u,f as o,w as t,c as A,z as b,g as d,t as n,h as C,e as S,H as B,P as I,C as W}from"./index-C4fDvJn1.js";import{L as $}from"./index-EP99CXY3.js";import{f as v,e as P}from"./enum-map-device-i1knBcFt.js";import{m as j}from"./device-CGckm-tw.js";import{D as z,a as F}from"./index-Bfxp67qW.js";import{T as H}from"./index-Cd0TkKik.js";import{C as O}from"./index-CfF1NG6B.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-tKWHzGWZ.js";import"./responsiveObserve-k0SNxmCv.js";import"./isSymbol-7IJmde0n.js";const q={1:"Android 1.0",2:"Android 1.1",3:"Android 1.5",4:"Android 1.6",5:"Android 2.0",6:"Android 2.1",7:"Android 2.1",8:"Android 2.2",9:"Android 2.3",10:"Android 2.3.3",11:"Android 3.0",12:"Android 3.1",13:"Android 3.2",14:"Android 4.0",15:"Android 4.0.3",16:"Android 4.1",17:"Android 4.2",18:"Android 4.3",19:"Android 4.4",20:"Android 4.4W",21:"Android 5.0",22:"Android 5.1",23:"Android 6.0",24:"Android 7.0",25:"Android 7.1",26:"Android 8.0",27:"Android 8.1",28:"Android 9.0",29:"Android 10",30:"Android 11",31:"Android 12",32:"Android 12L",33:"Android 13",34:"Android 14"},E=D({name:"device_detail",__name:"[id]",setup(G){const g=w(),N=M(),e=V({loading:!0}),h=m(()=>e&&typeof e.type=="number"?v.filter(r=>r.value===e.type)[0]:v[0]),y=m(()=>e&&typeof e.status=="number"?P.filter(r=>r.value===e.status)[0]:v[0]),p=m(()=>N.userInfo.isTenant);k(()=>{T()}),L(()=>{T()});async function T(){e.loading=!0;try{const{data:s,error:r}=await j(g.params.id);!r&&s&&s.code===0&&Object.assign(e,s.data)}finally{e.loading=!1}}function x(s){const r=Number.parseFloat(s);if(Number.isNaN(r))return"-";const a=Math.round(r*60),i=Math.floor(a/3600),c=Math.floor(a%3600/60),f=a%60,l=[];return i>0&&l.push(`${i}小时 `),(c>0||i>0)&&l.push(`${c}分 `),l.push(`${f}秒`),l.join("")}return(s,r)=>{const a=F,i=H,c=z,f=O;return u(),_("div",{class:W(["min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto",{loading:e.loading}])},[o(f,{title:"设备详情"},{default:t(()=>[o(c,{bordered:"",column:{xs:2,sm:2,md:3}},{default:t(()=>[o(a,{label:"设备编号",span:1},{default:t(()=>[d(n(C(g).params.id),1)]),_:1}),o(a,{label:"设备名称",span:1},{default:t(()=>[d(n(e.name),1)]),_:1}),o(a,{label:"分组名称",span:1},{default:t(()=>[d(n(e.groupName),1)]),_:1}),o(a,{label:"设备类型",span:1},{default:t(()=>[o(i,{color:h.value.color},{default:t(()=>[d(n(h.value.label),1)]),_:1},8,["color"])]),_:1}),o(a,{label:"绑定时间",span:1},{default:t(()=>[d(n(e.createTime),1)]),_:1}),o(a,{label:"过期时间",span:1},{default:t(()=>[d(n(e.expiredTime||"-"),1)]),_:1}),o(a,{label:"设备品牌",span:1},{default:t(()=>[d(n(e.deviceBrand),1)]),_:1}),o(a,{label:"设备型号",span:1},{default:t(()=>[d(n(e.deviceModel),1)]),_:1}),o(a,{label:"设备分辨率",span:1},{default:t(()=>[d(n(e.screenWidth)+" * "+n(e.screenHeight),1)]),_:1}),o(a,{label:"App版本",span:1},{default:t(()=>[d(n(e.appVersion),1)]),_:1}),o(a,{label:"脚本版本",span:1},{default:t(()=>[d(n(e.scriptVersion),1)]),_:1}),o(a,{label:"系统版本",span:1},{default:t(()=>[d(n(C(q)[Number(e.systemVersion)]),1)]),_:1}),o(a,{label:"心跳时间",span:1},{default:t(()=>[d(n(e.lastOnlineTime),1)]),_:1}),o(a,{label:"离线时长",span:1},{default:t(()=>[d(n(e.offLineMinutes==="0"?"-":x(e.offLineMinutes)),1)]),_:1}),o(a,{label:"剩余天数",span:1},{default:t(()=>[d(n(e.days)+" 天",1)]),_:1}),o(a,{label:"设备状态",span:1},{default:t(()=>[o(i,{color:y.value.color},{default:t(()=>[d(n(y.value.label),1)]),_:1},8,["color"])]),_:1}),o(a,{label:"设备IP",span:1},{default:t(()=>[d(n(e.ip),1)]),_:1}),o(a,{label:"设备IP归属地",span:1},{default:t(()=>[d(n(e.ipAddress),1)]),_:1}),o(a,{label:"今日执行次数",span:1},{default:t(()=>[d(n(e.todayRunCount)+" 次",1)]),_:1}),o(a,{label:"Wifi名称",span:1},{default:t(()=>[d(n(e.wifiName||"-"),1)]),_:1}),o(a,{label:"Wifi密码",span:1},{default:t(()=>[d(n(e.wifiPassword||"-"),1)]),_:1}),p.value?b("",!0):(u(),A(a,{key:0,label:"运行脚本个数",span:1},{default:t(()=>[d(n(e.runCount),1)]),_:1})),p.value?b("",!0):(u(),A(a,{key:1,label:"核心脚本个数",span:2},{default:t(()=>[d(n(e.coreCount),1)]),_:1})),p.value?b("",!0):(u(),A(a,{key:2,label:"运行脚本详情",span:2},{default:t(()=>[S("ul",null,[(u(!0),_(B,null,I(e.runScript,l=>(u(),_("li",{key:l},n(l),1))),128))])]),_:1}))]),_:1})]),_:1}),o($,{loading:e.loading},null,8,["loading"])],2)}}}),ne=R(E,[["__scopeId","data-v-7dfe96b6"]]);export{ne as default};
